<html>
<head>
<meta charset="utf-8"/>

<script src="utilities.js"></script>
<script src="mason.js"></script>
<style>
pre {
	font-family: "courier";
	line-height: 0.8;
	font-size:6px;
}
</style>
<script>


	function main() {

		let palette = {
			floor: '.',
			wall: '#',
			unknown: ' '
		};

		let sideDimension = 80; //Math.randInt(40,150);

		// Floor Density
		// 0.10 - 0.30 - spindly maps. Below 0.10 it is all just passage.
		// 0.40 - 0.50 - lanky, with generally thick passages
		// 0.60 - 0.70 - Pretty chunky rooms
		// 0.80 - 0.90 - Vast open spaces with stone columns intruding
		// Seed Percent
		// Lower number (0.05) means each room is more consolidated
		// Higher number (0.50) means lots of little rooms that connect.
		// floor=0.50, seed 0.02, wanderingPassage false, makes nice connected rooms
		let floorDensity = 0.9;
		let style = {
			dim: sideDimension,
			architecture: "cave",
			mustConnect: false,
			wanderingPassage: true,
			floorDensity: floorDensity,
			seedPercent: 0.0001,
			placeDensity: floorDensity * 0.9
		};
/*
		style = {
			dim: sideDimension,
			architecture: "rooms",
			floorDensity: floorDensity,
			maxRoomScale: 0.25
		};
*/
		let map = Mason.buildMap( style, palette, map => document.getElementById('map').innerHTML = map );
		document.getElementById('map').innerHTML = map.renderToString();
	}
</script>
</head>
<body>
	<pre id='map'></pre>
<script>main();</script>
</body>
</html>
